<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Laviero — Мебель</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans&display=swap">

</head>
<body>
  <!-- Шапка -->
  <header class="header">
    <div class="container header-container">
        <div class="logo">
            <a href="index.html">
              <img src="img/logo.png" alt="Laviero" class="logo-img" />
            </a>
        </div>
      
      <nav class="nav" id="nav-menu">
        <a href="about.html">О нас</a>
        <a href="#portfolio">Портфолио</a>
        <a href="#contacts">Контакты</a>
        <a href="сollaboration.html">Сотрудничество</a>
       <!--<a href="#advice">Полезные советы</a>-->
      </nav>

      <!-- Добавленные социальные иконки -->
      <div class="header-social">
        <div class="social-links">
          <a href="https://vk.com/laviero" class="social-link vk" target="_blank" rel="noopener noreferrer">
            <img src="img/vk-b.png" alt="VK">
          </a>
          <a href="https://wa.me/79652530871" class="social-link whatsapp" target="_blank" rel="noopener noreferrer">
            <img src="img/w-b.png" alt="WhatsApp">
          </a>
          <a href="https://t.me/Laviero_ru" class="social-link telegram" target="_blank" rel="noopener noreferrer">
            <img src="img/t-b.png" alt="Telegram">
          </a>
          <a href="tel:+79660924947" class="social-link tel">
            <img src="img/tel-b.png" alt="Позвонить">
          </a>
        </div>
      </div>

      <div class="burger" id="burger">☰</div>
    </div>
  </header>

  <!-- Видео блок -->
  <section class="video-section" id="video">
    <video autoplay muted loop playsinline class="video-bg" id="background-video">
      <source src="video.mp4" type="video/mp4" />
      Ваш браузер не поддерживает видео фон.
    </video>
    
    <!-- Кнопка включения звука с иконкой -->
    <button class="sound-toggle" id="sound-toggle">
      <img src="img/Volume_off.png" id="sound-icon">
    </button>
  </section>


  <section class="about-section-modern">
    <div class="about-layout">
      <div class="about-text">
        <div class="about-content">
          <h2 class="reveal">СТОЛЯРНОЕ ИСКУССТВО ДЛЯ ВОПЛОЩЕНИЯ ПРОЕКТОВ</h2>
          <p class="about-description reveal">С 2014 года Laviero превращает дизайн-проекты в мебель, которая определяет стиль и функциональность пространств. Наше производство — это симбиоз цифровых технологий и ручного мастерства, где даже самые смелые идеи обретают четкие формы и безупречную геометрию.</p>
          <p class="about-description reveal">Для дизайн-студий и клиентов мы создаем корпусную мебель и интерьерные решения, работая с чертежами как с руководством к действию. От лаконичных шкафов до сложных гардеробных систем — каждый проект адаптируется под требования материалов, нагрузок и эстетики.</p>
          <p class="about-description reveal">Внимание к деталям, отточенное за десятилетие, начинается с подбора дерева и шпонированных панелей и заканчивается финальной шлифовкой вручную. Это не просто мебель — это элементы, которые продолжают историю вашего интерьера.</p>
        </div>
      </div>
    </div>
  
    <div class="about-gallery reveal">
        <div class="img-container img-1">
          <img src="img/Дома.webp" alt="Частные интерьеры" class="img" />
          <div class="img-caption reveal">
            <h3>Частные интерьеры</h3>
            <p>Индивидуальные гардеробные, кухни и стеновые панели — там, где каждая деталь создает уют.</p>
          </div>
        </div>
        <div class="img-container img-2">
          <img src="img/Квартиры.webp" alt="Квартиры в стиле premium" class="img" />
          <div class="img-caption reveal">
            <h3>Квартиры в стиле premium</h3>
            <p>Шкафы - невидимки, скрытые системы хранения и ниши с подсветкой — функциональность без компромиссов.</p>
          </div>
        </div>
        <div class="img-container img-3">
          <img src="img/Коммерчиская.webp" alt="Коммерческие проекты" class="img" />
          <div class="img-caption reveal">
            <h3>Коммерческие проекты</h3>
            <p>Стойки ресепшн, витрины и стеллажи, которые работают на ваш брендинг.</p>
          </div>
        </div>
        <div class="img-container img-4">
          <img src="img/Офисы.webp" alt="Офисные пространства" class="img" />
          <div class="img-caption reveal">
            <h3>Офисные пространства</h3>
            <p>Переговорные, зоны лобби и кабинеты — мебель как часть корпоративной идентичности.</p>
          </div>
        </div>
    </div>
  

  </section>

  <!-- Блок "Портфолио" -->
  <section class="projects" id="portfolio">
    <div class="container_2">
      <h2 class="reveal">ПОРТФОЛИО</h2>
      <div class="projects-grid reveal" id="project-list"></div>
    </div>
  </section>


  <section class="contact-block" id="contact">
    <div class="contact-container">
        <div class="contact-heading">
            <div class="heading-line reveal">ОБСУДИТЕ СВОЙ ПРОЕКТ</div>
            <div class="heading-line reveal">С НАМИ ПРЯМО СЕЙЧАС</div>
        </div>
        
        <div class="contact-info">
            <a href="tel:+79660924947" class="contact-item phone reveal">+7 (966) 092-49-47</a>
            <a href="mailto:info@laviero.ru" class="contact-item email reveal">info@laviero.ru</a>
        </div>
    </div>
  </section>

  <section class="contacts-section" id="contacts">
    <div class="contacts-container">
        <!-- Левая колонка с контактами -->
        <div class="contacts-column reveal">
            <h2 class="contacts-title">Контакты</h2>
            <div class="contacts-info">
                <div class="contact-item-2">
                    <span class="contact-label">Телефон:</span>
                    <a href="tel:+79660924947" class="contact-value">+7 (966) 092-49-47</a>
                </div>
                <div class="contact-item-2">
                    <span class="contact-label">E-mail:</span>
                    <a href="mailto:info@laviero.ru" class="contact-value">info@laviero.ru</a>
                </div>
                <div class="contact-item-2">
                    <span class="contact-label">Время работы:</span>
                    <span class="contact-value">пн-сб с 9:00 по 18:00</span>
                </div>
                <div class="contact-item-2">
                    <span class="contact-label">Адрес офиса:</span>
                    <span class="contact-value">г. Долгопрудный, Лихачёвский проезд 4с1</span>
                </div>
            </div>
            <div class="contacts-note">
                Пожалуйста, позвоните предварительно, чтобы согласовать с менеджером время вашего визита
            </div>
        </div>
        <!-- Центральная колонка с реквизитами -->
        <div class="requisites-column reveal">
          <h2 class="contacts-title">Реквизиты</h2>
          <div class="requisites-list">
              <div class="requisite-item">ИП Лаврушин Е.А.</div>
              <div class="requisite-item">ИНН: 570402588119</div>
              <div class="requisite-item">ОГРНИП: 317574900010821</div>
              <div class="requisite-item">р/сч 40802810247000002201</div>
              <div class="requisite-item">В Банке  ПАО «Сбербанк»</div>
              <div class="requisite-item">Отделение  № 8595</div>
              <div class="requisite-item">к/с 30101810300000000601</div>
              <div class="requisite-item">БИК 045402601</div>
          </div>
        </div>

        <!-- Правая колонка с картой -->
        <div class="map-column reveal">
          <div class="map-wrapper">
            <iframe 
              src="https://yandex.ru/map-widget/v1/?um=constructor%3A8060790b5b82fe3adc1cef904642612a6c1b5b59d352b2c44dff8420d75055f2&amp;source=constructor"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>
        </div>
    </div>
</section>

  <!-- Контакты (подвал) -->
  <footer class="footer">
    <div class="footer-container">
        <!-- Верхняя строка -->
        <div class="footer-top">
            <!-- Логотип -->
            <div class="footer-logo">
                <a href="index.html">
                    <img src="img/logo_white.png" alt="Laviero" class="logo-img">
                </a>
            </div>

            <!-- Меню -->
            <nav class="footer-nav">
                <a href="about.html">О нас</a>
                <a href="#portfolio">Портфолио</a>
                <a href="#contacts">Контакты</a>
                <a href="сollaboration.html">Сотрудничество</a>
                <!-- <a href="#advice">Полезные советы</a>-->
            </nav>

            <!-- Социальные сети -->
            <div class="social-links">
              <a href="https://vk.com/laviero" class="social-link vk" target="_blank" rel="noopener noreferrer">
                <img src="img/vk-w.png" alt="VK">
              </a>
              <a href="https://wa.me/79652530871" class="social-link whatsapp" target="_blank" rel="noopener noreferrer">
                <img src="img/w-w.png" alt="WhatsApp">
              </a>
              <a href="https://t.me/Laviero_ru" class="social-link telegram" target="_blank" rel="noopener noreferrer">
                <img src="img/t-w.png" alt="Telegram">
              </a>
              <a href="tel:+79660924947" class="social-link tel">
                <img src="img/tel-w.png" alt="Позвонить">
              </a>
            </div>
        </div>

        <!-- Нижняя строка -->
        <div class="footer-bottom">
            <div class="footer-legal">
                <a href="privacy-policy.html" class="privacy-link">Политика конфиденциальности</a>
                <span class="copyright">&copy; 2024 Laviero. Все права защищены</span>
            </div>
        </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const headerOffset = document.querySelector('.header')?.offsetHeight || 0;
  
      // --- Скролл по параметру scrollTo независимо от загрузки проектов
      const urlParams = new URLSearchParams(window.location.search);
      const targetId = urlParams.get('scrollTo');
      if (targetId) {
        const scrollToTarget = () => {
          const el = document.getElementById(targetId);
          if (el) {
            const offset = el.getBoundingClientRect().top + window.scrollY - headerOffset;
            window.scrollTo({ top: offset, behavior: 'smooth' });
          }
        };
        // Немного подождем, чтобы весь DOM точно отрисовался
        setTimeout(scrollToTarget, 400);
      }
  
      // --- Видео: звук вкл/выкл
      const video = document.getElementById('background-video');
      const soundToggleButton = document.getElementById('sound-toggle');
      const soundIcon = document.getElementById('sound-icon');
      if (video) {
        video.muted = true;
        soundToggleButton?.addEventListener('click', () => {
          video.muted = !video.muted;
          soundIcon.src = video.muted ? 'img/Volume_off.png' : 'img/Volume_on.png';
        });
      }
  
      // --- Мобильное меню
      const burger = document.getElementById('burger');
      const nav = document.getElementById('nav-menu');
      burger?.addEventListener('click', () => {
        nav.classList.toggle('active');
      });

      document.querySelectorAll('.nav a[href^="#"]').forEach(link => {
        link.addEventListener('click', () => {
          if (nav.classList.contains('active')) {
            nav.classList.remove('active');
          }
        });
      });
  
      // --- Загрузка проектов
      fetch('projects.json')
        .then(res => res.json())
        .then(projects => {
          const container = document.getElementById('project-list');
          projects.forEach(project => {
            const a = document.createElement('a');
            a.href = (project.id === 'Ruza') ? '#video' : `project.html?id=${project.id}`;
            a.className = 'project';
  
            const overlay = document.createElement('div');
            overlay.className = 'project-overlay';
            overlay.innerText = (project.id === 'Ruza')
              ? 'Смотреть видео этого проекта'
              : 'Смотреть все фото этого проекта';
  
            const imgWrapper = document.createElement('div');
            imgWrapper.className = 'project-image-wrapper reveal';
  
            const img = document.createElement('img');
            img.src = project.images[0];
            img.alt = project.title;
  
            imgWrapper.appendChild(img);
            imgWrapper.appendChild(overlay);
            a.appendChild(imgWrapper);
  
            const title = document.createElement('span');
            title.textContent = project.title;
            title.className = 'reveal';
  
            const city = document.createElement('p');
            city.textContent = project.city;
            city.className = 'project-city reveal';
  
            a.appendChild(title);
            a.appendChild(city);
  
            // Плавный скролл при клике на проект Ruza
            if (project.id === 'Ruza') {
              a.addEventListener('click', function (e) {
                e.preventDefault();
                const videoSection = document.getElementById('video');
                const offset = videoSection.getBoundingClientRect().top + window.scrollY - headerOffset;
                window.scrollTo({ top: offset, behavior: 'smooth' });
              });
            }
  
            container.appendChild(a);
          });
        })
        .catch(err => console.error('Ошибка загрузки проектов:', err));
    });
  </script>
  <script>
    // Запоминаем позицию скролла, чтобы понимать направление (вниз/вверх)
    let lastScrollY = window.scrollY;

    // Функция проверяет, скроллим ли мы вниз
    function isScrollingDown() {
      const currentY = window.scrollY;
      const down = currentY > lastScrollY;
      lastScrollY = currentY;
      return down;
    }

    // Функция, которая будет проверять все .reveal элементы
    function checkRevealBlocks() {
      // Определяем направление один раз в начале
      const scrollingDown = isScrollingDown();

      // Берём все элементы с классом .reveal
      const reveals = document.querySelectorAll('.reveal');

      reveals.forEach(el => {
        const rect = el.getBoundingClientRect();
        // Проверяем, виден ли элемент (хотя бы частью) в зоне экрана
        const isPartiallyVisible = (rect.top < window.innerHeight && rect.bottom > 0);

        // Проверяем, ушёл ли он полностью ниже экрана
        const isFullyBelow = (rect.top >= window.innerHeight);

        // Если мы прокручиваем ВНИЗ и элемент попал в зону видимости:
        if (scrollingDown && isPartiallyVisible) {
          el.classList.add('active'); 
        }

        // Если прокручиваем ВНИЗ и элемент полностью вышел за нижнюю границу экрана:
        if (scrollingDown && isFullyBelow) {
          el.classList.remove('active'); 
        }

        // При скролле вверх — ничего не делаем, поэтому нет else
      });
    }

    // При скролле вызываем нашу функцию
    window.addEventListener('scroll', checkRevealBlocks);

    // И при загрузке страницы (вдруг что-то уже в зоне видимости)
    window.addEventListener('load', checkRevealBlocks);
  </script>
    
</body>
</html>
